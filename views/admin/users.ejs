<%- include('../partials/header') %>

<style>
    .admin-container { display: flex; min-height: 100vh; }
    .admin-content { margin-left: 260px; flex: 1; padding: 40px; background: linear-gradient(135deg, #FAFAFA 0%, #F5F5F5 100%); transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .admin-sidebar.collapsed ~ .admin-content { margin-left: 70px; }
    .admin-table { width: 100%; background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.08); margin-top: 20px; }
    .admin-table th { background: #546E6A; color: white; padding: 15px; text-align: left; font-weight: 600; }
    .admin-table td { padding: 15px; border-top: 1px solid #f0f0f0; }
    .admin-table tr:hover { background: #f8f8f8; }
    .btn-edit, .btn-delete { padding: 5px 15px; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; margin-right: 5px; }
    .btn-edit { background: #9AB1AE; color: white; }
    .btn-delete { background: #d32f2f; color: white; }
</style>

<div class="admin-container">
    <%- include('partials/adminSidebarNew') %>
    <div class="admin-content">
        <h1>Manage Users</h1>
        <table class="admin-table">
            <thead>
                <tr><th>Name</th><th>Email</th><th>Phone</th><th>Location</th><th>Role</th><th>Joined</th></tr>
            </thead>
            <tbody>
                <% if (typeof users !== 'undefined' && users.length > 0) { %>
                    <% users.forEach(user => { %>
                        <tr>
                            <td><%= user.firstName %> <%= user.lastName %></td>
                            <td><%= user.email %></td>
                            <td><%= user.phoneNumber || 'N/A' %></td>
                            <td><%= user.location || 'N/A' %></td>
                            <td><%= user.isAdmin ? 'Admin' : 'User' %></td>
                            <td><%= new Date(user.createdAt).toLocaleDateString() %></td>
                        </tr>
                    <% }); %>
                <% } else { %>
                    <tr><td colspan="6" style="text-align: center;">No users found</td></tr>
                <% } %>
            </tbody>
        </table>
    </div>
</div>
<script src="/js/script.js"></script>
</body>
</html>

