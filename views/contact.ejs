<%- include('partials/header') %>
<%- include('partials/navbar', { currentPage: 'contact' }) %>

<section class="page-header">
    <h1 class="page-title">Get in Touch</h1>
    <p class="page-subtitle">
        We'd love to hear from you and discuss your event
    </p>
</section>

<section class="section">
    <div class="contact-container">
        <div class="contact-form-wrapper">
            <h2 class="contact-heading">Send Us a Message</h2>
            <form class="contact-form" id="contactForm" onsubmit="handleContactSubmit(event)">
                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">First Name <span class="required">*</span></label>
                        <input type="text" name="firstName" class="form-input" placeholder="John" required />
                    </div>
                    <div class="form-group">
                        <label class="form-label">Last Name <span class="required">*</span></label>
                        <input type="text" name="lastName" class="form-input" placeholder="Doe" required />
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Email Address <span class="required">*</span></label>
                    <input type="email" name="email" class="form-input" placeholder="john.doe@example.com" required />
                </div>
                <div class="form-group">
                    <label class="form-label">Phone Number <span class="required">*</span></label>
                    <input type="tel" name="phone" class="form-input" placeholder="03xx-xxxx-xxx" required />
                </div>
                <div class="form-group">
                    <label class="form-label">Subject <span class="required">*</span></label>
                    <input type="text" name="subject" class="form-input" placeholder="Inquiry about..." required />
                </div>
                <div class="form-group">
                    <label class="form-label">Message <span class="required">*</span></label>
                    <textarea name="message" class="form-textarea" placeholder="Your message..." rows="5" required></textarea>
                </div>
                <button type="submit" class="btn-submit">Send Message</button>
            </form>
        </div>
        <div class="contact-info-wrapper">
            <h2 class="contact-heading">Contact Information</h2>
            <div class="contact-info-card">
                <div class="info-icon">ğŸ“</div>
                <div class="info-content">
                    <div class="info-title">Address</div>
                    <div class="info-text">Islamabad/Rawalpindi, Pakistan</div>
                </div>
            </div>
            <div class="contact-info-card">
                <div class="info-icon">ğŸ“§</div>
                <div class="info-content">
                    <div class="info-title">Email</div>
                    <div class="info-text">info@elationfmh.com</div>
                </div>
            </div>
            <div class="contact-info-card">
                <div class="info-icon">ğŸ“</div>
                <div class="info-content">
                    <div class="info-title">Phone</div>
                    <div class="info-text">+92 300 1234567</div>
                </div>
            </div>
        </div>
    </div>
</section>

<%- include('partials/footer') %>
<%- include('partials/bookingModal', { services: [] }) %>
<%- include('partials/profileModals') %>

<script src="/js/script.js"></script>
<script>
    async function handleContactSubmit(event) {
        event.preventDefault();
        const formData = new FormData(event.target);
        const data = Object.fromEntries(formData);
        
        try {
            const response = await fetch('/contact', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(data)
            });
            
            const result = await response.json();
            if (result.success) {
                alert(result.message);
                event.target.reset();
            } else {
                alert(result.message || 'Error sending message');
            }
        } catch (error) {
            alert('Error sending message. Please try again.');
        }
    }
</script>
</body>
</html>

